
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ•™å®¤äºˆç´„ç”³è«‹</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 5px; text-align: center; font-size: 0.9rem; }
    th { background-color: #f0f0f0; }
    .instruction { background-color: #e0f7fa; padding: 10px; margin-bottom: 15px; font-size: 0.95rem; }
    .notice-box { width: 100%; height: 50px; font-size: 1rem; margin-top: 10px; }
    button { padding: 10px 20px; margin-top: 20px; font-size: 1rem; }
    pre { background: #f9f9f9; padding: 1em; margin-top: 1em; }

    .awarded {
      background-color: #d0f0d0;
      font-weight: bold;
    }

    .rejected {
      background-color: #f0d0d0;
      text-decoration: line-through;
    }
  </style>
</head>
<body>

  <h1>æ•™å®¤äºˆç´„ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ </h1>

  <div class="instruction">ğŸ“¢ æŠ½é¸ã«ç”³ã—è¾¼ã‚€æ•™å®¤ã‚’é¸æŠã—ã€ç”»é¢ä¸€ç•ªä¸‹ã®ã€Œç”³è¾¼ã‚’å®Œäº†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</div>

  <label>æ•™å‹™ã‹ã‚‰ã®æ³¨æ„äº‹é …ï¼š</label>
  <textarea class="notice-box" id="notice-area" readonly>ä¾‹ï¼šCæ£Ÿå…¨ä½“ã¯6/22ï¼ˆåœŸï¼‰éŸ³å‡ºã—ç¦æ­¢ã§ã™ã€‚</textarea>

  <table id="reservation-table">
    <thead>
      <tr>
        <th>è¬›ç¾©å®¤</th><th>å®šå“¡</th><th>å¸­</th>
        <th>6/17</th><th>6/18</th><th>6/19</th><th>6/20</th>
        <th>6/21</th><th>6/22</th><th>6/23</th>
      </tr>
    </thead>
    <tbody id="table-body">
      <!-- æ•™å®¤ãƒ‡ãƒ¼ã‚¿ã®è¡Œã¯åˆ¥é€”JSã§æŒ¿å…¥ã•ã‚Œã‚‹ -->
    </tbody>
  </table>

  <button onclick="submitSelection()">ç”³è¾¼ã‚’å®Œäº†</button>

  <h2>ğŸ“¦ æå‡ºãƒ‡ãƒ¼ã‚¿ï¼ˆãƒšã‚¢ã«å…±æœ‰ï¼‰</h2>
  <pre id="output">ã“ã“ã«å‡ºåŠ›ã•ã‚Œã¾ã™</pre>

  <script>
    const rooms = [
      ["C101", 105, "å›ºå®š"], ["C104", 52, "ã‚»ãƒ‘"], ["C105", 68, "ã‚»ãƒ‘"], ["C106", 102, "ã‚»ãƒ‘"],
      ["C202", 156, "å›ºå®š"], ["C203", 73, "å›ºå®š"], ["C204", 44, "ã‚»ãƒ‘"], ["C205", 60, "å›ºå®š"],
      ["C206", 106, "å›ºå®š"], ["C301", 105, "å›ºå®š"], ["C302", 156, "å›ºå®š"], ["C303", 72, "å›ºå®š"],
      ["C304", 51, "ã‚»ãƒ‘"], ["C305", 54, "å›ºå®š"], ["C306", 106, "å›ºå®š"], ["C307", 72, "å›ºå®š"],
      ["C308", 72, "å›ºå®š"], ["C401", 105, "å›ºå®š"], ["C402", 156, "å›ºå®š"], ["C403", 72, "å›ºå®š"],
      ["C404", 53, "ã‚»ãƒ‘"], ["C405", 54, "å›ºå®š"], ["C406", 106, "å›ºå®š"], ["C407", 36, "ã‚»ãƒ‘"],
      ["C408", 36, "ã‚»ãƒ‘"], ["C409", 36, "ã‚»ãƒ‘"], ["è¬›ç¾©å®¤", 309, "å›ºå®š"]
    ];

    const tableBody = document.getElementById("table-body");

    // æŠ½é¸çµæœãƒ‡ãƒ¼ã‚¿ï¼ˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ç­ã‹ã‚‰å—ã‘å–ã‚‹å½¢ï¼‰
    const allocationResults = {
      "C101_0": "å½“é¸",
      "C101_1": "è½é¸",
      "C106_4": "å½“é¸",
      "C203_6": "è½é¸"
    };

    // åˆæœŸãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆ
    for (let [room, capacity, seat] of rooms) {
      let row = `<tr><td>${room}</td><td>${capacity}</td><td>${seat}</td>`;
      for (let day = 0; day < 7; day++) {
        const key = `${room}_${day}`;
        const result = allocationResults[key];
        if (result === "å½“é¸") {
          row += `<td class="awarded">å½“é¸</td>`;
        } else if (result === "è½é¸") {
          row += `<td class="rejected">è½é¸</td>`;
        } else {
          row += `<td><input type="checkbox" data-room="${room}" data-day="${day}"></td>`;
        }
      }
      row += "</tr>";
      tableBody.innerHTML += row;
    }

    // ç”³è«‹ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚ã®å‡¦ç†
    function submitSelection() {
      const checkboxes = document.querySelectorAll('input[type=checkbox]:checked');
      const selected = Array.from(checkboxes).map(cb => ({
        room: cb.dataset.room,
        day: cb.dataset.day
      }));
      const requestData = {
        user: "ã‚µãƒ¼ã‚¯ãƒ«A",  // ä»®ã®ãƒ¦ãƒ¼ã‚¶å
        selections: selected,
        timestamp: new Date().toISOString()
      };
      document.getElementById("output").textContent = JSON.stringify(requestData, null, 2);
      console.log("ğŸ”½ æŠ½é¸ç”³è«‹ãƒ‡ãƒ¼ã‚¿:", requestData);
    }
  </script>

</body>
</html>
